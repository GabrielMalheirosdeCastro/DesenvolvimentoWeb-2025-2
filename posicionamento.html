<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Lab 5- Posicionamento</title>
<link rel="stylesheet" href="posicionamento.css">
    <script src="security-init.js"></script>
  </head>
<body>
<!--Header fixo-->
<header class="header-fixo">
<h1>Header Fixo</h1>
</header>

<!--ConteÃºdo principal-->
<main class="conteudo">
<section class="secao">
<h2>Posicionamento Relative</h2>
<div class="box-relative">
Eu me movo relativamente minha posiÃ§Ã£o original
</div>
</section>

<section class="secao">
<h2>Posicionamento Absolute</h2>
<div class="container-absolute">
<div class="box-absolute topo-esquerda">Topo Esquerda</div>
<div class="box-absolute topo-direita">Topo Direita</div>
<div class="box-absolute baixo-esquerda">Baixo Esquerda</div>
<div class="box-absolute baixo-direita">Baixo Direita</div>
</div>
</section>

<section class="secao">
<h2>Z-index (Empilhamento)</h2>
<div class="container-z">
<div class="box-z z1">Z-index: 1</div>
<div class="box-z z2">Z-index: 2</div>
<div class="box-z z3">Z-index: 3</div>
</div>
</section>

<!--ConteÃºdo para scroll-->
<div class="espacador">
<p>Role a pÃ¡gina para ver o header fixo em aÃ§Ã£o...</p>
</div>
</main>

<!--BotÃ£o flutuante-->
<button class="btn-flutuante" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">â†‘</button>

<script>
// ===============================================
// ðŸš€ JAVASCRIPT APRIMORADO - POSICIONAMENTO CSS
// ðŸ“… Desenvolvido por: Gabriel Malheiros de Castro
// ðŸ« FAESA 2025-2 - Desenvolvimento Web
// ===============================================

document.addEventListener('DOMContentLoaded', function() {
    console.log('ðŸŽ¯ LaboratÃ³rio de Posicionamento CSS carregado!');
    console.log('ðŸ‘¨â€ðŸ’» Desenvolvido por: Gabriel Malheiros de Castro');
    console.log('ðŸ« FAESA 2025-2 - Desenvolvimento Web');
    
    // ==========================================
    // ðŸ” FUNCIONALIDADE DO BOTÃƒO FLUTUANTE
    // ==========================================
    const botaoFlutuante = document.querySelector('.btn-flutuante');
    let scrollAnterior = 0;
    
    // AnimaÃ§Ã£o melhorada do botÃ£o flutuante
    function atualizarBotaoFlutuante() {
        const scrollAtual = window.scrollY;
        
        if (scrollAtual > 300) {
            botaoFlutuante.style.opacity = '1';
            botaoFlutuante.style.visibility = 'visible';
            botaoFlutuante.style.transform = 'translateY(0)';
        } else if (scrollAtual > 100) {
            botaoFlutuante.style.opacity = '0.7';
            botaoFlutuante.style.visibility = 'visible';
            botaoFlutuante.style.transform = 'translateY(0)';
        } else {
            botaoFlutuante.style.opacity = '0';
            botaoFlutuante.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                if (window.scrollY <= 100) {
                    botaoFlutuante.style.visibility = 'hidden';
                }
            }, 300);
        }
        
        // Efeito de esconder/mostrar baseado na direÃ§Ã£o do scroll
        if (scrollAtual > scrollAnterior && scrollAtual > 500) {
            // Scrolling para baixo - esconder temporariamente
            botaoFlutuante.style.transform = 'translateY(100px)';
        } else {
            // Scrolling para cima - mostrar
            botaoFlutuante.style.transform = 'translateY(0)';
        }
        
        scrollAnterior = scrollAtual;
    }
    
    // Event listener otimizado com throttling
    let ticking = false;
    window.addEventListener('scroll', function() {
        if (!ticking) {
            requestAnimationFrame(function() {
                atualizarBotaoFlutuante();
                ticking = false;
            });
            ticking = true;
        }
    });
    
    // ==========================================
    // ðŸŽ¨ INTERATIVIDADE DOS ELEMENTOS DE POSICIONAMENTO
    // ==========================================
    
    // Adicionar efeitos hover e click aos boxes
    const boxRelative = document.querySelector('.box-relative');
    const boxesAbsolute = document.querySelectorAll('.box-absolute');
    const boxesZ = document.querySelectorAll('.box-z');
    
    // Efeito especial para box relative
    if (boxRelative) {
        boxRelative.addEventListener('click', function() {
            this.style.transform = 'translate(20px, 10px) rotate(5deg) scale(1.1)';
            this.style.transition = 'transform 0.3s ease';
            
            setTimeout(() => {
                this.style.transform = 'translate(0, 0) rotate(0deg) scale(1)';
            }, 1000);
            
            console.log('ðŸ“¦ Box Relative clicado! Demonstrando transform CSS.');
        });
        
        boxRelative.addEventListener('dblclick', function() {
            const mensagem = 'Este Ã© um elemento com position: relative!\n\n' +
                           'â€¢ Ele se move relativamente Ã  sua posiÃ§Ã£o original\n' +
                           'â€¢ MantÃ©m seu espaÃ§o no fluxo normal do documento\n' +
                           'â€¢ Outros elementos nÃ£o ocupam seu lugar';
            
            alert(mensagem);
        });
    }
    
    // Interatividade para boxes absolute
    boxesAbsolute.forEach((box, index) => {
        box.addEventListener('click', function() {
            // AnimaÃ§Ã£o de pulso
            this.style.animation = 'pulse 0.6s ease-in-out';
            
            setTimeout(() => {
                this.style.animation = '';
            }, 600);
            
            // InformaÃ§Ãµes no console
            const posicao = ['Topo Esquerda', 'Topo Direita', 'Baixo Esquerda', 'Baixo Direita'][index];
            console.log(`ðŸŽ¯ Box Absolute clicado: ${posicao}`);
            
            // Feedback visual melhorado
            const infoDiv = document.createElement('div');
            infoDiv.innerHTML = `ðŸ“ ${posicao}`;
            infoDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 10px 15px;
                border-radius: 5px;
                z-index: 9999;
                font-size: 14px;
                transition: opacity 0.3s ease;
            `;
            
            document.body.appendChild(infoDiv);
            
            setTimeout(() => {
                infoDiv.style.opacity = '0';
                setTimeout(() => {
                    if (infoDiv.parentNode) {
                        infoDiv.parentNode.removeChild(infoDiv);
                    }
                }, 300);
            }, 2000);
        });
        
        // Efeito hover aprimorado
        box.addEventListener('mouseenter', function() {
            this.style.transform = 'scale(1.1) rotate(2deg)';
            this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.3)';
            this.style.transition = 'all 0.3s ease';
        });
        
        box.addEventListener('mouseleave', function() {
            this.style.transform = 'scale(1) rotate(0deg)';
            this.style.boxShadow = '';
        });
    });
    
    // DemonstraÃ§Ã£o de Z-index interativa
    boxesZ.forEach((box, index) => {
        box.addEventListener('click', function() {
            // Resetar z-index de todos
            boxesZ.forEach(b => {
                b.style.zIndex = b.classList.contains('z1') ? '1' : 
                                 b.classList.contains('z2') ? '2' : '3';
            });
            
            // Colocar o clicado no topo
            this.style.zIndex = '10';
            this.style.transform = 'scale(1.2) rotate(5deg)';
            this.style.transition = 'all 0.3s ease';
            
            console.log(`ðŸ” Z-index alterado! Box ${index + 1} agora estÃ¡ no topo.`);
            
            setTimeout(() => {
                this.style.transform = 'scale(1) rotate(0deg)';
                setTimeout(() => {
                    this.style.zIndex = this.classList.contains('z1') ? '1' : 
                                       this.classList.contains('z2') ? '2' : '3';
                }, 500);
            }, 1000);
        });
    });
    
    // ==========================================
    // ðŸ” INFORMAÃ‡Ã•ES DE DEBUG E VIEWPORT
    // ==========================================
    
    function mostrarInfoViewport() {
        const info = {
            largura: window.innerWidth,
            altura: window.innerHeight,
            scrollX: window.scrollX,
            scrollY: window.scrollY,
            userAgent: navigator.userAgent.substring(0, 50) + '...'
        };
        
        console.log('ðŸ–¥ï¸ InformaÃ§Ãµes do Viewport:', info);
        return info;
    }
    
    // Mostrar info viewport a cada resize
    window.addEventListener('resize', function() {
        setTimeout(mostrarInfoViewport, 100);
    });
    
    // ==========================================
    // ðŸŽ® EASTER EGGS E FUNCIONALIDADES ESPECIAIS
    // ==========================================
    
    // Contador de cliques
    let totalCliques = 0;
    document.addEventListener('click', function() {
        totalCliques++;
        
        if (totalCliques === 10) {
            console.log('ðŸŽ‰ ParabÃ©ns! VocÃª fez 10 cliques explorando a pÃ¡gina!');
        } else if (totalCliques === 25) {
            alert('ðŸ† Explorador Expert! 25 cliques na pÃ¡gina de posicionamento!\n\nVocÃª realmente estÃ¡ testando tudo! ðŸš€');
        }
    });
    
    // Teclas especiais
    document.addEventListener('keydown', function(e) {
        // Tecla 'i' para informaÃ§Ãµes
        if (e.key.toLowerCase() === 'i') {
            const info = mostrarInfoViewport();
            alert(`â„¹ï¸ InformaÃ§Ãµes da PÃ¡gina:
            
ðŸ“ Viewport: ${info.largura} Ã— ${info.altura}
ðŸ“œ Scroll: X=${info.scrollX}, Y=${info.scrollY}
ðŸ–±ï¸ Total de cliques: ${totalCliques}
â° Tempo na pÃ¡gina: ${Math.floor(performance.now() / 1000)}s`);
        }
        
        // Tecla 'h' para ajuda
        if (e.key.toLowerCase() === 'h') {
            const ajuda = `ðŸ†˜ AJUDA - LaboratÃ³rio de Posicionamento:

ðŸ–±ï¸ CLIQUES:
â€¢ Boxes â†’ Demonstra animaÃ§Ãµes e efeitos
â€¢ Box Relative â†’ Transform e rotaÃ§Ã£o
â€¢ Box Z â†’ Altera z-index dinamicamente

âŒ¨ï¸ TECLAS:
â€¢ 'i' â†’ InformaÃ§Ãµes do viewport
â€¢ 'h' â†’ Esta ajuda
â€¢ 'r' â†’ Reset de todos os efeitos

ðŸŽ¯ DICAS:
â€¢ Duplo-clique no box relative para explicaÃ§Ã£o
â€¢ Use o DevTools (F12) para ver logs
â€¢ Scroll para testar o botÃ£o flutuante`;
            
            alert(ajuda);
        }
        
        // Tecla 'r' para reset
        if (e.key.toLowerCase() === 'r') {
            location.reload();
        }
    });
    
    // ==========================================
    // ðŸ“Š ANALYTICS E PERFORMANCE
    // ==========================================
    
    // Medir performance da pÃ¡gina
    window.addEventListener('load', function() {
        setTimeout(() => {
            const perfData = performance.getEntriesByType('navigation')[0];
            const loadTime = perfData.loadEventEnd - perfData.loadEventStart;
            
            console.log('âš¡ Performance da PÃ¡gina:');
            console.log(`â€¢ Tempo de carregamento: ${loadTime.toFixed(2)}ms`);
            console.log(`â€¢ DOM carregado em: ${(perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart).toFixed(2)}ms`);
            console.log(`â€¢ Tempo total: ${performance.now().toFixed(2)}ms`);
        }, 100);
    });
    
    // ==========================================
    // ðŸŽ¨ ESTILOS DINÃ‚MICOS E ANIMAÃ‡Ã•ES
    // ==========================================
    
    // Adicionar estilos de animaÃ§Ã£o dinamicamente
    const style = document.createElement('style');
    style.textContent = `
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); box-shadow: 0 0 20px rgba(255,255,255,0.5); }
            100% { transform: scale(1); }
        }
        
        .btn-flutuante {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .btn-flutuante:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .btn-flutuante:active {
            transform: translateY(-2px) scale(1.05);
        }
    `;
    document.head.appendChild(style);
    
    // ==========================================
    // ðŸ FINALIZAÃ‡ÃƒO DA INICIALIZAÃ‡ÃƒO
    // ==========================================
    
    console.log('âœ… JavaScript inicializado com sucesso!');
    console.log('ðŸ’¡ Dicas: Pressione "h" para ajuda ou "i" para informaÃ§Ãµes');
    console.log('ðŸ”§ Use F12 para abrir DevTools e explorar o console');
    
    // Mensagem de boas-vindas apÃ³s um delay
    setTimeout(() => {
        console.log('ðŸŽ“ Bem-vindo ao LaboratÃ³rio de Posicionamento CSS!');
        console.log('ðŸŽ¯ Explore os elementos clicando neles para ver demonstraÃ§Ãµes interativas');
    }, 2000);
    
    // Inicializar informaÃ§Ãµes do viewport
    mostrarInfoViewport();
});
</script>
</body>
</html>